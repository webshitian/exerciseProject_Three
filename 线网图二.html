<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <style>
        #div1{
            width: 780px;height: 400px;background: url(./image/bg.jpg) no-repeat; margin: 20px auto; overflow: hidden;
        }
        body{
            background: black;
        }
    </style>
    <script>
        window.onload = function(){
            


            var svgNS = 'http://www.w3.org/2000/svg';
            var oParent = document.getElementById('div1');
            var centerX = oParent.offsetWidth/2 - 350;
            var centerY = oParent.offsetHeight/2 - 100;
            var website = ['益田','益田','益田','益田','益田','益田','益田','益田','益田','益田','益田','益田','福田'];

            var otherData = [];


            //封装一个创建标签的函数
            function createTag(tag,objAttr){

                var oTag = document.createElementNS(svgNS,tag);
                
                for(var attr in objAttr){
                    oTag.setAttribute(attr,objAttr[attr]);
                }
                return oTag;

            }
            
   
            for(var i = 0;i < website.length;i++){
                
                 var y = centerY;
                 var x = i * 40 + centerX;
                 otherData.push({ x:x, y:y, text:website[i]});
                 
            }
            
            var data = {
                otherNode:otherData
            }    

            console.log('输出的data',data)



             //封装一个创建标签的方法
             function addTag(){
                var oSvg = createTag('svg',{'xmlns':svgNS,'width':'100%','height':'100%'});

                for(var i = 0;i < data.otherNode.length;i++){
                    //把每一个数据传过去，并添加到svg当中
                    addOtherTag(data.otherNode[i] , oSvg);
                }                
                oParent.appendChild(oSvg);

            }
            addTag()

            function addOtherTag(otherAttr , oSvg){

                var oG = createTag('g',{'style':'cursor:pointer','class':'circleStyle'});
                var oLine1 = createTag('line',{'x1':otherAttr.x,'y1':otherAttr.y,'x2':otherAttr.y,'y2':otherAttr.y - 50,'stroke':'#ccc'})
                
                oG.appendChild(oLine1);
                oSvg.appendChild(oG);


                var oG = createTag('g',{'style':'cursor:pointer'});
                var oCircle = createTag('circle',{'cx':otherAttr.x + 30,'cy':otherAttr.y,'r':'10','fill':'white','stroke':'red','strole-width':'1'})
                var oText = createTag('text',{'x':otherAttr.x + 30,'y':otherAttr.y + 30,'fill':'white','font-size':'15','text-anchor':'middle'})
                oText.innerHTML = otherAttr.text;

                oG.appendChild(oCircle);
                oG.appendChild(oText);

                oSvg.appendChild(oG);

                

            }

   
            
            // var oLine1 = createTag('line',{'x1':'30','y1':'100','x2':'100','y2':'100','stroke':'#ccc'})
           
            // var oCircle = createTag('circle',{'cx':'60','cy':'100','r':'10','fill':'white','stroke':'red','strole-width':'1'})
            // var oText = createTag('text',{'x':'60','y':'130','fill':'white','font-size':'15','text-anchor':'middle'})

            // oText.innerHTML = '水贝站';
            // oG.appendChild(oLine1);
            // oG.appendChild(oCircle);
            // oG.appendChild(oText);

            // oSvg.appendChild(oG);
            // oParent.appendChild(oSvg);

            

        }
    </script>
</head>
<body>
    <div id="div1">

    </div>
    <script src="./js/flexible.js"></script>
</body>
</html>
</html>